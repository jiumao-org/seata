name: Docker Image CI/ CD
env:
  CONTAINER_NAME: seata
on:
  push:
    branches: [ master ]
jobs:
  build:
    runs-on: ubuntu-latest      
    steps:
    - name: Build the Docker image
      run:
        docker build . --file Dockerfile --tag image
    - name: run docker image
      run:
        docker run --name $CONTAINER_NAME -d -p 4000:4000
    
